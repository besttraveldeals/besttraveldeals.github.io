<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>पुनर्मिलन समारोह Registration Form</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .form-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
            padding: 20px;
            margin: 20px;
        }
        .form-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .form-header img {
            width: 80px;
            height: auto;
        }
        .form-header h1 {
            font-size: 22px;
            text-align: center;
            flex-grow: 1;
            margin: 0 20px;
            color: #333;
        }
        form {
            display: flex;
            flex-direction: column;
        }
        label {
            margin-bottom: 5px;
            color: #555;
        }
        select, input[type="email"], input[type="tel"], input[type="number"], input[type="checkbox"], button {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }
        input[type="checkbox"] {
            width: auto;
            margin-right: 10px;
        }
        button {
            background-color: #28a745;
            color: white;
            font-size: 18px;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #218838;
        }
        .hidden {
            display: none;
        }
        .form-footer {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
            color: #777;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <div class="form-header">
            <img src="clogo.png" alt="Logo 1">
            <h1>पुनर्मिलन समारोह<br>19th October 2024</h1>
            <img src="nvs.png" alt="Logo 2">
        </div>
        <p style="text-align: center; font-size: 14px;">Fully organized, sponsored, and maintained by Best Travel Deals. For more info, contact us at 8989114821.</p>

        <form id="eventForm">
            <label for="category">Select Category:</label>
            <select id="category" name="category" required>
                <option value="">--Select Category--</option>
                <option value="Attendee">Attendee</option>
                <option value="Delegate">Delegate</option>
                <option value="Speaker">Speaker</option>
            </select>

            <label for="name" id="nameLabel" class="hidden">Select Name:</label>
            <select id="name" name="name" class="hidden">
                <option value="">--Select Name--</option>
                <option value="AJAY SHAKYA">AJAY SHAKYA</option>
                <option value="AJAY SINGH MARAN">AJAY SINGH MARAN</option>
                <option value="AKASH VISHVAKARNA">AKASH VISHVAKARNA</option>
                <option value="AKSHARA SHARMA">AKSHARA SHARMA</option>
                <option value="ANAMIKA NAGAR">ANAMIKA NAGAR</option>
                <option value="ANKIT GOYAL">ANKIT GOYAL</option>
                <option value="ANUJ KUSHRAM">ANUJ KUSHRAM</option>
                <option value="ARJUN MEENA">ARJUN MEENA</option>
                <option value="BHUMIKA MARAN">BHUMIKA MARAN</option>
                <option value="BRAJMOHAN VISHWAKARMA">BRAJMOHAN VISHWAKARMA</option>
                <option value="DEVCHAND AHIRWAR">DEVCHAND AHIRWAR</option>
                <option value="GAURAV PARTE">GAURAV PARTE</option>
                <option value="HITESH">HITESH</option>
                <option value="JAYDEEP MALVIYA">JAYDEEP MALVIYA</option>
                <option value="NAVNEET KAUR">NAVNEET KAUR</option>
                <option value="POOJA MARAN">POOJA MARAN</option>
                <option value="RAJAT DOHRE">RAJAT DOHRE</option>
                <option value="SAKSHI SHARMA">SAKSHI SHARMA</option>
                <option value="SANJAY KALESH">SANJAY KALESH</option>
                <option value="SEEMA PARTE">SEEMA PARTE</option>
                <option value="SIMRAN MARAN">SIMRAN MARAN</option>
                <option value="SUHANI MARAN">SUHANI MARAN</option>
                <option value="VIKAS HATELA">VIKAS HATELA</option>
                <option value="YASHMIN ALI">YASHMIN ALI</option>
                <option value="YOGESH DANGI">YOGESH DANGI</option>
                <option value="AYUSHI RAO (2022)">AYUSHI RAO (2022)</option>
                <option value="Gaurav Sahu AHDT">Gaurav Sahu AHDT</option>
            </select>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required placeholder="Enter your email">

            <label for="phone">Phone Number:</label>
            <input type="tel" id="phone" name="phone" required placeholder="Enter your phone number">

            <label for="guests">Number of Guests (Including You):</label>
            <input type="number" id="guests" name="guests" required min="1" placeholder="Enter total number of guests">

            <label for="confirmation">
                <input type="checkbox" id="confirmation" name="confirmation" required>
                I confirm that I will attend the event on 19th October 2024.
            </label>

            <button type="submit">Submit</button>
        </form>

        <p id="referenceNumber" class="hidden">Your reference number: <strong id="refNum"></strong></p>

        <div class="form-footer">
            Best Travel Deals | Contact us at: 8989114821
        </div>
    </div>

    <script>
        $(document).ready(function() {
            $('#category').change(function() {
                if ($(this).val() === 'Attendee') {
                    $('#name').removeClass('hidden');
                    $('#nameLabel').removeClass('hidden');
                } else {
                    $('#name').addClass('hidden');
                    $('#nameLabel').addClass('hidden');
                }
            });

            $('#eventForm').on('submit', function(event) {
                event.preventDefault();
                
                // Validate form
                if (!$(this).valid()) {
                    return;
                }

                // Generate unique reference number
                let refNumber = 'REF' + Math.floor(Math.random() * 1000000);

                // Prepare data
                let formData = {
                    category: $('#category').val(),
                    name: $('#name').val(),
                    email: $('#email').val(),
                    phone: $('#phone').val(),
                    guests: $('#guests').val(),
                    confirmation: $('#confirmation').is(':checked'),
                    refNumber: refNumber
                };

                // Submit to Google Sheets via Google Apps Script (Assuming the script is deployed)
                const scriptURL = 'https://script.google.com/macros/s/AKfycbyfecp_zJu3VEy4VvjIWVnqjLD8g14j_6bvB0Ez78YtO-65H6HF9p5Gq9cZmlBDiCoh/exec'; // Replace with actual Google Apps Script URL
                $.post(scriptURL, formData)
                    .done(function(response) {
                        alert('Form submitted successfully!');
                        $('#refNum').text(refNumber);
                        $('#referenceNumber').removeClass('hidden');
                        $('#eventForm')[0].reset();
                        $('#name').addClass('hidden');
                        $('#nameLabel').addClass('hidden');
                    })
                    .fail(function(error) {
                        alert('Error submitting form. Please try again later.');
                    });
            });
        });
    </script>
</body>
</html>
